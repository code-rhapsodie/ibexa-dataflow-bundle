{% form_theme form '@ibexadesign/ibexa_dataflow/form_theme.html.twig' %}

{% embed '@ibexadesign/ui/component/modal/modal.html.twig' with {
    id: id ?? '',
    title: ('coderhapsodie.ibexa_dataflow.workflow.'~(mode|default('repeating'))~'.'~(type_action|default('new'))~'.title')|trans,
} %}
    {% block body_content %}
        {{ form_start(form) }}
            <div class="form-fields">
                {{ form_widget(form) }}
            </div>
            <button type="submit" hidden id="{{ id ~ '-submit' }}"></button>
        {{ form_end(form) }}
    {% endblock %}
    {% block footer_content %}
        <button class="btn ibexa-btn ibexa-btn--primary ibexa-btn--trigger" data-click="#{{ id ~ '-submit' }}">
            {{ ('coderhapsodie.ibexa_dataflow.workflow.'~(type_action|default('new'))~'.submit')|trans }}
        </button>
        <button type="button" class="btn ibexa-btn ibexa-btn--secondary" data-bs-dismiss="modal">
            {{ 'coderhapsodie.ibexa_dataflow.workflow.new.cancel'|trans }}
        </button>
    {% endblock %}
{% endembed %}
